# !!! generated by puppet !!!
# mongod.conf
storage:
    dbPath: "<%= scope.lookupvar('mongodb::dbdir') %>/mongod_<%= @mongod_instance %>"
    #mmapv1, wiredTiger, inMemory
    engine: "<%= @mongod_engine %>"
    wiredTiger:
        engineConfig:
            #cacheSizeGB: <number>
            #none,snappy,zlib
            journalCompressor: "none"
        collectionConfig:
            #none,snappy,zlib
            blockCompressor: "none"
        indexConfig:
            #true,false
            prefixCompression: false
systemLog:
    #destination: "file"
    #path: "<%= scope.lookupvar('mongodb::logdir') %>/mongod_<%= @mongod_instance %>.log"
    destination: "syslog"
    logAppend: <%= @mongod_logappend %>
processManagement:
    fork: <%= @mongod_fork %>
    #pid file  is configured in /etc/init.d/mongod_mongoshard
    pidFilePath: "<%= scope.lookupvar('mongodb::pidfilepath') %>/mongod_<%= @mongod_instance %>/mongod.pid"
net:
    port: <%= @mongod_port %>
    <%- if @mongod_bind_ip != "" -%>
    bindIp: <%= @mongod_bind_ip %>
    <%- end -%>
    http:
        RESTInterfaceEnabled: <%= @mongod_rest %>
sharding:
    <%- if @mongod_configsvr != false -%>
    clusterRole: "configsvr"
    <%- end -%>
    <%- if @mongod_shardsvr != false -%>
    clusterRole: "shardsvr"
    <%- end -%>
<%- if @mongod_replSet != "" -%>
replication:
    replSetName: "<%= @mongod_replSet %>"
<%- end -%>
